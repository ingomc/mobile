if(typeof jQuery=="undefined"){alert("Hashgrid: jQuery not loaded. Make sure it's linked to your pages.")}var hashgrid=function(e){var i={id:"grid",modifierKey:null,showGridKey:"g",holdGridKey:"h",foregroundKey:"f",jumpGridsKey:"j",numberOfGrids:1,classPrefix:"grid-",cookiePrefix:"hashgrid"},r,t=1,s,n,o,d,a,f,l,u,c,h=false,p,y="B",v=-1,g=9999,b,m,x,k=false,w;if(typeof e=="object"){for(m in e){i[m]=e[m]}}else if(typeof e=="string"){i.id=e}if($("#"+i.id).length>0){$("#"+i.id).remove()}c=$("<div></div>");c.attr("id",i.id).css({display:"none",pointerEvents:"none"});$("body").prepend(c);l=$("#"+i.id);if(l.css("z-index")=="auto")l.css("z-index",v);b=parseFloat($(document).height());l.height(b);l.append('<div id="'+i.id+'-horiz" class="horiz first-line">');w=l.css("top");l.css({top:"-999px",display:"block"});d=$("#"+i.id+"-horiz");a=d.outerHeight();l.css({display:"none",top:w});if(a<=0){return false}f=Math.floor(b/a);s="";for(o=f-1;o>=1;o--){s+='<div class="horiz"></div>'}l.append(s);l.append($('<div class="vert-container"></div>'));p=l.children(".vert-container");n=l.width();p.css({width:n,position:"absolute",top:0});p.append('<div class="vert first-line">&nbsp;</div>');s="";for(o=0;o<30;o++){s+='<div class="vert">&nbsp;</div>'}p.append(s);p.children().height(b).css({display:"inline-block"});u=O(i.cookiePrefix+i.id);if(typeof u=="string"){x=u.split("-");x[2]=Number(x[2]);if(typeof x[2]=="number"&&!isNaN(x[2])){t=x[2].toFixed(0);l.addClass(i.classPrefix+t)}if(x[1]=="F"){y="F";l.css("z-index",g)}if(x[0]=="1"){h=true;k=true;z()}}else{l.addClass(i.classPrefix+t)}$(document).bind("keydown",P);$(document).bind("keyup",j);function K(e){if(i.modifierKey==null)return true;var r=true;switch(i.modifierKey){case"ctrl":r=e.ctrlKey?e.ctrlKey:false;break;case"alt":r=e.altKey?e.altKey:false;break;case"shift":r=e.shiftKey?e.shiftKey:false;break}return r}function G(e){var i=false,r=e.keyCode?e.keyCode:e.which;if(r==13)i="enter";else i=String.fromCharCode(r).toLowerCase();return i}function C(){F(i.cookiePrefix+i.id,(k?"1":"0")+"-"+y+"-"+t,1)}function z(){l.show();p.css({width:l.width()});p.children(".vert").each(function(){var e=$(this);e.css("display","inline-block");if(e.offset().top>e.parent().offset().top){e.hide()}})}r={};function P(e){var s,n,o=e.target.tagName.toLowerCase();if(o=="input"||o=="textarea"||o=="select"){return true}n=K(e);if(!n){return true}s=G(e);if(!s){return true}if(r[s]){return true}r[s]=true;switch(s){case i.showGridKey:if(!h){z();h=true}else if(k){l.hide();h=false;k=false;C()}break;case i.holdGridKey:if(h&&!k){k=true;C()}break;case i.foregroundKey:if(h){if(l.css("z-index")==g){l.css("z-index",v);y="B"}else{l.css("z-index",g);y="F"}C()}break;case i.jumpGridsKey:if(h&&i.numberOfGrids>1){l.removeClass(i.classPrefix+t);t++;if(t>i.numberOfGrids)t=1;l.addClass(i.classPrefix+t);z();if(/webkit/.test(navigator.userAgent.toLowerCase())){L()}C()}break}return true}function j(e){var t,s=K(e);if(!s){return true}t=G(e);r[t]=false;if(t&&t==i.showGridKey&&!k){l.hide();h=false}return true}function F(e,i,r){var t,s="";if(r){t=new Date;t.setTime(t.getTime()+r*24*60*60*1e3);s="; expires="+t.toGMTString()}document.cookie=e+"="+i+s+"; path=/"}function O(e){var i,r=document.cookie.split(";"),t=0,s=r.length,n=e+"=";for(;t<s;t++){i=r[t];while(i.charAt(0)==" "){i=i.substring(1,i.length)}if(i.indexOf(n)==0){return i.substring(n.length,i.length)}}return null}function N(e){F(e,"",-1)}function L(){var e=document.styleSheets[0];try{e.addRule(".xxxxxx","position: relative");e.removeRule(e.rules.length-1)}catch(i){}}return{}};$(document).ready(function(){var e=new hashgrid({numberOfGrids:2})});